<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>CdT_Notification_demande_approuvee</fullName>
        <description>CdT.Notification demande approuvée</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Cerba_HC_Nouvelle_facture/CDT_Nouveau_Cout_de_Transport_Valide</template>
    </alerts>
    <alerts>
        <fullName>CdT_Notification_demande_rejet_e</fullName>
        <description>CdT.Notification demande rejetée</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Cerba_HC_Nouvelle_facture/CDT_Nouveau_Cout_de_transport_Rejete</template>
    </alerts>
    <alerts>
        <fullName>Notification_demande_approuvee</fullName>
        <description>CdT.Notification demande approuvée</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Cerba_HC_Demande_de_modif_facture/DDE_Modification_Facture_Approuv_e</template>
    </alerts>
    <alerts>
        <fullName>Notification_demande_rejetee</fullName>
        <description>CdT.Notification demande rejetée</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Cerba_HC_Demande_de_modif_facture/DDE_Modification_Facture_Rejet_e</template>
    </alerts>
    <fieldUpdates>
        <fullName>FU_CdT_Derniere_mise_jour_des_montants</fullName>
        <field>Derniere_mise_jour_des_montants__c</field>
        <formula>TODAY()</formula>
        <name>FU.CdT.Dernière mise à jour des montants</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>FU_CdT_Entete_de_facture</fullName>
        <field>Entete_de_facture__c</field>
        <formula>IF (
ISPICKVAL (
 Type_de_cout__c , &quot;L&quot;),
 Client__r.Name  
&amp;&quot; - &quot;&amp; 
 Client__r.BillingStreet 
&amp;&quot; - &quot;&amp; 
Client__r.BillingPostalCode 
&amp;&quot; - &quot;&amp; 
Client__r.BillingCity
,

IF (
ISPICKVAL (
 Type_de_cout__c , &quot;T&quot;),

 Fournisseur__r.Name    
&amp;&quot; - &quot;&amp; 
 Fournisseur__r.BillingStreet 
&amp;&quot; - &quot;&amp; 
Fournisseur__r.BillingPostalCode 
&amp;&quot; - &quot;&amp; 
Fournisseur__r.BillingCity
,

&quot;&quot;))</formula>
        <name>FU.CdT.Entête de facture</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>FU_CdT_Name</fullName>
        <field>Name</field>
        <formula>IF (
 ISPICKVAL (Type_de_cout__c ,&quot;L&quot;),&quot;L&quot;,
IF (
 ISPICKVAL (Type_de_cout__c ,&quot;T&quot;),&quot;T&quot;,
IF (
 ISPICKVAL (Type_de_cout__c ,&quot;S&quot;),&quot;S&quot;,
IF (
 ISPICKVAL (Type_de_cout__c ,&quot;V&quot;),&quot;V&quot;,&quot;&quot;))))
&amp;&quot; - &quot;&amp;
 N_identifiant_du_cout__c 
&amp;&quot; - &quot;&amp;
  LEFT(Client__r.Name, 45)  
&amp;&quot; - &quot;&amp;
LEFT(Precision_sur_le_cout__c, 20)</formula>
        <name>FU.CdT.Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>FU_CdT_Statut_Approuv</fullName>
        <description>Validé par la direction commerciale</description>
        <field>Statut__c</field>
        <literalValue>Validé par la direction commerciale</literalValue>
        <name>FU.CdT.Statut.Approuvé</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>FU_CdT_Statut_Brouillon</fullName>
        <field>Statut__c</field>
        <literalValue>Brouillon</literalValue>
        <name>FU.CdT.Statut Brouillon</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>FU_CdT_Statut_En_attente_de_validation</fullName>
        <field>Statut__c</field>
        <literalValue>En attente de validation</literalValue>
        <name>FU.CdT.Statut.En attente de validation</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>FU_CdT_Statut_Rejete</fullName>
        <field>Statut__c</field>
        <literalValue>Rejeté par la direction commerciale</literalValue>
        <name>FU.CdT.Statut Rejeté</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>FU_CdT_TECH_By_Pass_VR_CdT_FALSE</fullName>
        <field>TECH_By_Pass_VR_CdT_Valide__c</field>
        <literalValue>0</literalValue>
        <name>FU.CdT.TECH By Pass VR CdT FALSE</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>WF%2ECdT%2EEntête de facture</fullName>
        <actions>
            <name>FU_CdT_Entete_de_facture</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>true</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>WF%2ECdT%2ERegle%2Ede%2Enommage</fullName>
        <actions>
            <name>FU_CdT_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>true</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>WF%2ECdT%2ETECH - By Pass VR CdT</fullName>
        <actions>
            <name>FU_CdT_TECH_By_Pass_VR_CdT_FALSE</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>ISCHANGED (Date_de_fin__c)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
